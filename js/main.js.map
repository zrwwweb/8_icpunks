{"version":3,"sources":["global.js","ex.js","main.js"],"names":["closeModal","document","querySelector","modal","btns","querySelectorAll","addEventListener","classList","remove","forEach","el","add","form","telSelector","inputMask","Inputmask","mask","validation","JustValidate","addField","rule","value","errorMessage","validator","phone","inputmask","unmaskedvalue","length","onSuccess","event","console","log","formData","FormData","target","xhr","XMLHttpRequest","onreadystatechange","readyState","status","open","send","reset"],"mappings":"AAAA;ACAA;;;;;;;;;;;;;;;ACCA,IAAMA,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAnB;AACA,IAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,IAAME,IAAI,GAAGH,QAAQ,CAACI,gBAAT,CAA0B,MAA1B,CAAb;AAEAL,UAAU,CAACM,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzCH,EAAAA,KAAK,CAACI,SAAN,CAAgBC,MAAhB,CAAuB,eAAvB;AACD,CAFD;AAIAJ,IAAI,CAACK,OAAL,CAAa,UAACC,EAAD,EAAQ;AACpBA,EAAAA,EAAE,CAACJ,gBAAH,CAAoB,OAApB,EAA6B,YAAM;AAClCH,IAAAA,KAAK,CAACI,SAAN,CAAgBI,GAAhB,CAAoB,eAApB;AACA,GAFD;AAGA,CAJD,E,CAOC;;AACA,IAAMC,IAAI,GAAGX,QAAQ,CAACI,gBAAT,CAA0B,OAA1B,CAAb;AACA,IAAMQ,WAAW,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAApB;AACA,IAAMY,SAAS,GAAG,IAAIC,SAAJ,CAAc,oBAAd,CAAlB;AACAD,SAAS,CAACE,IAAV,CAAeH,WAAf;AAGA,IAAMI,UAAU,GAAG,IAAIC,YAAJ,CAAiB,OAAjB,CAAnB;AAEAD,UAAU,CACTE,QADD,CACU,oBADV,EACgC,CAC9B;AACAC,EAAAA,IAAI,EAAE,WADN;AAEAC,EAAAA,KAAK,EAAE,CAFP;AAGAC,EAAAA,YAAY,EAAE;AAHd,CAD8B,EAM9B;AACAF,EAAAA,IAAI,EAAE,WADN;AAEAC,EAAAA,KAAK,EAAE;AAFP,CAN8B,EAU9B;AACAD,EAAAA,IAAI,EAAE,UADN;AAEAC,EAAAA,KAAK,EAAE,IAFP;AAGAC,EAAAA,YAAY,EAAE;AAHd,CAV8B,CADhC,EAiBCH,QAjBD,CAiBU,qBAjBV,EAiBiC,CAC/B;AACAC,EAAAA,IAAI,EAAE,UADN;AAEAC,EAAAA,KAAK,EAAE,IAFP;AAGAC,EAAAA,YAAY,EAAE;AAHd,CAD+B,EAM/B;AACAF,EAAAA,IAAI,EAAE,OADN;AAEAC,EAAAA,KAAK,EAAE,IAFP;AAGAC,EAAAA,YAAY,EAAE;AAHd,CAN+B,CAjBjC,EA6BCH,QA7BD,CA6BU,mBA7BV,EA6B+B,CAC7B;AACAC,EAAAA,IAAI,EAAE,UADN;AAEAC,EAAAA,KAAK,EAAE,IAFP;AAGAC,EAAAA,YAAY,EAAE;AAHd,CAD6B,EAM7B;AACAF,EAAAA,IAAI,EAAE,UADN;AAEAG,EAAAA,SAAS,EAAE,qBAAW;AACtB,QAAMC,KAAK,GAAGX,WAAW,CAACY,SAAZ,CAAsBC,aAAtB,EAAd;AACA,WAAOF,KAAK,CAACG,MAAN,KAAiB,EAAxB;AACC,GALD;AAMAL,EAAAA,YAAY,EAAE;AANd,CAN6B,CA7B/B,EA2CGM,SA3CH,CA2Ca,UAACC,KAAD,EAAW;AAAA;;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDF,KAApD;AAEA,MAAIG,QAAQ,GAAG,IAAIC,QAAJ,CAAaJ,KAAK,CAACK,MAAnB,CAAf;;AAEA,cAAAJ,OAAO,EAACC,GAAR,oCAAeC,QAAf;;AAEA,MAAIG,GAAG,GAAG,IAAIC,cAAJ,EAAV;;AAEAD,EAAAA,GAAG,CAACE,kBAAJ,GAAyB,YAAY;AACrC,QAAIF,GAAG,CAACG,UAAJ,KAAmB,CAAvB,EAA0B;AAC1B,UAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACtBT,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;AACA;AACA,GAND;;AAQAI,EAAAA,GAAG,CAACK,IAAJ,CAAS,MAAT,EAAiB,UAAjB,EAA6B,IAA7B;AACAL,EAAAA,GAAG,CAACM,IAAJ,CAAST,QAAT;AAEAH,EAAAA,KAAK,CAACK,MAAN,CAAaQ,KAAb;AACD,CAhED","file":"main.js","sourcesContent":["",null,"\nconst closeModal = document.querySelector('.modal__btn-close')\nconst modal = document.querySelector('.modal')\nconst btns = document.querySelectorAll('.btn')\n\ncloseModal.addEventListener('click', () => {\n\t\tmodal.classList.remove('modal_visible')\n})\n\nbtns.forEach((el) => {\n\tel.addEventListener('click', () => {\n\t\tmodal.classList.add('modal_visible')\n\t})\n})\n\n\n // inputmask\n const form = document.querySelectorAll('.form');\n const telSelector = document.querySelector('.modal__input-tel') \n const inputMask = new Inputmask('+6 (777) 999-99-99');\n inputMask.mask(telSelector);\n\n\n const validation = new JustValidate('.form');\n\n validation\n\t.addField('.modal__input-name', [\n\t  {\n\t\t rule: 'minLength',\n\t\t value: 3,\n\t\t errorMessage: 'Name must contain at least 3 letters'\n\t  },\n\t  {\n\t\t rule: 'maxLength',\n\t\t value: 30,\n\t  },\n\t  {\n\t\t rule: 'required',\n\t\t value: true,\n\t\t errorMessage: 'Enter your name!'\n\t  }\n\t])\n\t.addField('.modal__input-email', [\n\t  {\n\t\t rule: 'required',\n\t\t value: true,\n\t\t errorMessage: 'Enter your Email',\n\t  },\n\t  {\n\t\t rule: 'email',\n\t\t value: true,\n\t\t errorMessage: 'Enter correct Email',\n\t  },\n\t])\n\t.addField('.modal__input-tel', [\n\t  {\n\t\t rule: 'required',\n\t\t value: true,\n\t\t errorMessage: 'Enter your phone number',\n\t  },\n\t  {\n\t\t rule: 'function',\n\t\t validator: function() {\n\t\t\tconst phone = telSelector.inputmask.unmaskedvalue();\n\t\t\treturn phone.length === 10;\n\t\t },\n\t\t errorMessage: 'Phone number is wrong',\n\t  },\n\t]).onSuccess((event) => {\n\t  console.log('Validation passes and form submitted', event);\n\n\t  let formData = new FormData(event.target);\n\n\t  console.log(...formData);\n\n\t  let xhr = new XMLHttpRequest();\n\n\t  xhr.onreadystatechange = function () {\n\t\t if (xhr.readyState === 4) {\n\t\t\tif (xhr.status === 200) {\n\t\t\t  console.log('Отправлено');\n\t\t\t}\n\t\t }\n\t  }\n\n\t  xhr.open('POST', 'mail.php', true);\n\t  xhr.send(formData);\n\n\t  event.target.reset();\n\t});    "]}